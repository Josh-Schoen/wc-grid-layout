{"version":3,"file":"media-match.js","sourceRoot":"","sources":["../../src/components/grid-layout/media-match.ts"],"names":[],"mappings":"AAAA,OAAO,EAAwB,sBAAsB,EAAE,MAAM,cAAc,CAAC;AAE5E,MAAM,OAAO,UAAU;IAYrB,8DAA8D;IAC9D,YAAY,YAAqC;QAZjD,SAAI,GAAG;YACL,MAAM,CAAC,UAAU,CAAC,qBAAqB,CAAC;YACxC,MAAM,CAAC,UAAU,CAAC,oBAAoB,CAAC;YACvC,MAAM,CAAC,UAAU,CAAC,qBAAqB,CAAC;SACzC,CAAC;QAEF,yBAAoB,GAA2B,sBAAsB,CAAC;QAGtE,iBAAY,GAAoB,EAAE,CAAC;QAanC,kBAAa,GAAG,GAAG,EAAE;YACnB,OAAO,IAAI,CAAC,UAAU,CAAC;QACzB,CAAC,CAAC;QAEF,uBAAkB,GAAG,CAAC,GAAyB,EAAE,EAAE;YACjD,IAAI,OAAO,GAAG,CAAC,KAAK,KAAK,QAAQ,IAAK,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE;gBACvD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;gBACtB,MAAM,UAAU,GAAgB,IAAI,WAAW,CAC7C,YAAY,EACZ,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,CAC5B,CAAC;gBAEA,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aACpC;QACH,CAAC,CAAC;QAEF,sBAAiB,GAAG,GAAG,EAAE;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzD,uBAAuB;gBACtB,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,KAAwB,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;aAC5G;QACH,CAAC,CAAC;QAEF,kBAAa,GAAG,GAAG,EAAE;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtD,MAAM,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CACpD,IAAI,EACJ,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAC7B,CAAC;gBACD,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,KAAwB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC;gBACrG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAC3C;QACH,CAAC,CAAC;QAEF,cAAS,GAAG,CAAC,IAAc,EAAE,EAAE;YAC7B,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAqB,CAAC,CAAC;YAC7D,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC;QAEF,gBAAW,GAAG,CAAC,IAAc,EAAE,EAAE;YAC/B,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAqB,CAAC,CAAC;QAClE,CAAC,CAAC;QAnDA,IAAI,YAAY,EAAE;YAChB,IAAI,CAAC,oBAAoB,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACpD,uCACK,IAAI,KACP,KAAK,EAAE,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAClF;YACJ,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;CA4CF","sourcesContent":["import { BreakPointMediaMatch, breakPointMediaQueries } from \"./foundation\";\n\nexport class MediaMatch {\n  mqls = [\n    window.matchMedia(\"(max-width: 1900px)\"),\n    window.matchMedia(\"(max-width: 600px)\"),\n    window.matchMedia(\"(max-height: 500px)\"),\n  ];\n\n  breakpointMediaMatch: BreakPointMediaMatch[] = breakPointMediaQueries;\n\n  breakpoint?: BreakPointMediaMatch;\n  handlerArray: EventListener[] = [];\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(mediaQueries?: BreakPointMediaMatch[]) {\n    if (mediaQueries) {\n      this.breakpointMediaMatch = mediaQueries.map((item) => {\n        return {\n          ...item,\n          media: typeof item.media === \"string\" ? window.matchMedia(item.media) : item.media,\n        };\n      });\n    }\n  }\n  getBreakpoint = () => {\n    return this.breakpoint;\n  };\n\n  mediaqueryResponse = (mql: BreakPointMediaMatch) => {\n    if (typeof mql.media !== \"string\"  && mql.media.matches) {\n      this.breakpoint = mql;\n      const matchEvent: CustomEvent = new CustomEvent<BreakPointMediaMatch>(\n        \"mediaMatch\",\n        { detail: this.breakpoint }\n      );\n\n        window.dispatchEvent(matchEvent);\n    }\n  };\n\n  removeQueryEvents = () => {\n    for (let i = 0; i < this.breakpointMediaMatch.length; i++) {\n      // loop through queries\n      (this.breakpointMediaMatch[i].media as MediaQueryList).removeEventListener(\"change\", this.handlerArray[i]);\n    }\n  };\n\n  getMediaQuery = () => {\n    for (let i = 0; i < this.breakpointMediaMatch.length; i++) {\n      this.mediaqueryResponse(this.breakpointMediaMatch[i]);\n      const boundEventHandler = this.mediaqueryResponse.bind(\n        this,\n        this.breakpointMediaMatch[i]\n      );\n      (this.breakpointMediaMatch[i].media as MediaQueryList).addEventListener(\"change\", boundEventHandler);\n      this.handlerArray.push(boundEventHandler);\n    }\n  };\n\n  subscribe = (func: Function) => {\n    window.addEventListener(\"mediaMatch\", func as EventListener);\n    this.getMediaQuery();\n  };\n\n  ubsubscribe = (func: Function) => {\n    window.removeEventListener(\"mediaMatch\", func as EventListener);\n  };\n}\n"]}